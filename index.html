<!DOCTYPE html>
<html>
<head>
    <title>IP Check</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<style> 
.container.mt-3 {
    padding: 100px 200px;
}
@media (max-width:1200px){
    .container.mt-3 {
    padding: 0px 0px;
}
}
.bg{
    background-color: aliceblue;
}
.bg h2{
    margin-top: 15px;
}
.bg {
    padding: 105px 150px;
    text-align: center;
    
}
.btn-primary{
    background-color: aliceblue;
    padding-top: 8px;
    height: 50px;
    width: 200px;
    color: #212529;
    font-size: 20px;
    border-color: #212529;
    margin-top: 10px;
}
.btn-primary:hover{
    background-color: #212529;
   
    color: #fff;
   
}
</style>
<body>
    <!-- <h1>IP Check</h1>
    <p>Your Public IP Address: <span id="ipAddress"></span></p>
    <p id="message"></p> -->

    


    <div class="container mt-3">
    <div class="bg">
        <p>Your public IP address: <span id="ipAddress"></span></p>
        <h2 id="message"></h2>
    <!-- <h2>You are authoriz person you can <br> download this file </h2> -->
    <a href="#" class="btn btn-primary" onClick="refreshPage()">Download</a>
    <!-- <p>Turn an image into a card background and use .card-img-overlay to overlay the card's text:</p> -->
    <!-- <div class="card img-fluid" style="width:500px"> -->
      
      <!-- <div class="card-img-overlay">
        <h4 class="card-title">John Doe</h4>
        <p class="card-text">Some example text some example text. Some example text some example text. Some example text some example text. Some example text some example text.</p>
        <a href="#" class="btn btn-primary">See Profile</a>
      </div> -->
    </div>
  </div>




    <script>
        // Function to fetch the public IP address
        function getPublicIP() {
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('ipAddress').textContent = data.ip;

                    // Check if the IP is authorized
                    if (data.ip === '223.233.82.131') {
                        document.getElementById('message').textContent = "You are authorized person";
                        setTimeout(function() {
                            downloadImage();
                        }, 3000);
                    } else {
                        document.getElementById('message').textContent = "You are not authorized";
                        setTimeout(function() {
                            redirectToURL();
                        }, 3000);
                    }
                })
                .catch(error => {
                    console.error('Error fetching IP:', error);
                });
        }

        // Function to download an image
        function downloadImage() {
            var link = document.createElement('a');
            link.href = 'image.jpg'; // Replace with the actual image URL
            link.download = 'image.jpg';
            link.click();
        }

        // Function to redirect to a URL
        function redirectToURL() {
            window.location.href = 'https://opt-data.online';
        }

        // Get the public IP when the page loads
        window.onload = function() {
            getPublicIP();
        };
    </script>
    <script>
    function refreshPage(){
        window.location.reload();
    } 
    </script>


</body>
</html>
